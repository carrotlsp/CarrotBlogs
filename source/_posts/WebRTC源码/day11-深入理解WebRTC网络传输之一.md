---

title: day11-深入理解WebRTC网络传输之一
categories:
  - WebRTC源码
tags:
  - WebRTC
date: 2022-09-03 20:41:31
---

## 一、初始WebRTC的网络

### 1、本章重点协议和重点内容概述？

![image-20220904155238186](day11-深入理解WebRTC网络传输之一/image-20220904155238186.png)

- <font color="red">RTP协议：</font>对于音视频数据，需要打成RTP包进行传输
- <font color="red">DTLS协议：</font>主要是对数据的加密

![image-20220904155357128](day11-深入理解WebRTC网络传输之一/image-20220904155357128.png)

![image-20220904155404936](day11-深入理解WebRTC网络传输之一/image-20220904155404936.png)

2、WebRTC对网络设备管理的`核心类`是哪一个？WebRTC如何进行网络设备管理的？

![image-20220904155442679](day11-深入理解WebRTC网络传输之一/image-20220904155442679.png)

> MdnsResponderProvider：
> ①很久以前WebRTC是交换所有真实的ip地址，那么黑客拿到这些地址就很可能对本机进行攻击。
> ②为了防止这种攻击，WebRTC就提出了 `mdns` 的技术，尤其在浏览器端。通过 `mdns` 可以隐藏真实ip地址。



### 3、 创建 Networks 的过程？

![image-20220904155549433](day11-深入理解WebRTC网络传输之一/image-20220904155549433.png)

![image-20220904155554128](day11-深入理解WebRTC网络传输之一/image-20220904155554128.png)

- MeybeStartGathering：这是一个重要的方法，用于开始收集candidate信息

![image-20220904155608268](day11-深入理解WebRTC网络传输之一/image-20220904155608268.png)

![image-20220904155612190](day11-深入理解WebRTC网络传输之一/image-20220904155612190.png)

### 4、Windows下读取网卡信息的重要API?

![image-20220904155626621](day11-深入理解WebRTC网络传输之一/image-20220904155626621.png)

![image-20220904155631791](day11-深入理解WebRTC网络传输之一/image-20220904155631791.png)

![image-20220904155636591](day11-深入理解WebRTC网络传输之一/image-20220904155636591.png)

![image-20220904155642177](day11-深入理解WebRTC网络传输之一/image-20220904155642177.png)

![image-20220904155648531](day11-深入理解WebRTC网络传输之一/image-20220904155648531.png)

![image-20220904155652180](day11-深入理解WebRTC网络传输之一/image-20220904155652180.png)

![image-20220904155657035](day11-深入理解WebRTC网络传输之一/image-20220904155657035.png)

![image-20220904155703693](day11-深入理解WebRTC网络传输之一/image-20220904155703693.png)

![image-20220904155707790](day11-深入理解WebRTC网络传输之一/image-20220904155707790.png)

### 5、【Windows下】CreateNetworks源码解读？

![image-20220904155717192](day11-深入理解WebRTC网络传输之一/image-20220904155717192.png)

![image-20220904155721550](day11-深入理解WebRTC网络传输之一/image-20220904155721550.png)

![image-20220904155725819](day11-深入理解WebRTC网络传输之一/image-20220904155725819.png)

![image-20220904155730954](day11-深入理解WebRTC网络传输之一/image-20220904155730954.png)



### 6、获取本地默认IP地址和端口（为什么要获取默认的呢）？

![image-20220904155747295](day11-深入理解WebRTC网络传输之一/image-20220904155747295.png)

![image-20220904155755011](day11-深入理解WebRTC网络传输之一/image-20220904155755011.png)

![image-20220904155758944](day11-深入理解WebRTC网络传输之一/image-20220904155758944.png)

![image-20220904155803035](day11-深入理解WebRTC网络传输之一/image-20220904155803035.png)

![image-20220904155807215](day11-深入理解WebRTC网络传输之一/image-20220904155807215.png)

> 老的sockaddr 结构体只有16字节，新的有128字节。我们目前WebRTC体系中都要进行转换，【新】转【老】为什么不会造成数据越界读取呢？

### 7、【源码分析】获得本地ip地址和端口？

![image-20220904155830726](day11-深入理解WebRTC网络传输之一/image-20220904155830726.png)

![image-20220904155834877](day11-深入理解WebRTC网络传输之一/image-20220904155834877.png)

![image-20220904155838371](day11-深入理解WebRTC网络传输之一/image-20220904155838371.png)

![image-20220904155842622](day11-深入理解WebRTC网络传输之一/image-20220904155842622.png)

- 如何获取默认IP地址：其实就是和谷歌的8.8.8.8地址进行连接，看下端口和ip地址是多少



