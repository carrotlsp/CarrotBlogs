---
title: day01-初识蓝牙
date: 2024-03-07 07:28:30
tags: 
	- Bluetooth
categories: 
	- Bluetooth

---

## 一、初始蓝牙

### 1、蓝牙的类型分为哪两类？在iOS上有啥区别？

- 蓝牙分为经典蓝牙（BR/EDR）和低功耗蓝牙(BLE)
- 在iOS平台下经典蓝牙开发需要设备加入Apple的MFi认证，进行MFi认证的流程比较复杂，设备造价成本也比较高，在没有特殊要求的情况下一般不采用该方式。
- iOS下的蓝牙通常指的就是BLE蓝牙技术。



### 2、Bluetooth BR/EDR 、Bluetooth Low Energy、Bluetooth mesh之间的关系

- Bluetooth BR/EDR、Bluetooth Low Energy 是两种蓝牙有关的无线通信技术
- Bluetooth mesh是一种基于Bluetooth Low Energy的网络技术，它并不是无限通信技术。



### 3、在mesh网络中节点指的是什么？

- 所谓节点其实就是蓝牙设备，在配网之前叫设备，配置到mesh网络中后就改名叫节点了，至于节点有什么特性，这不是我们做iOS的能决定的，这要看硬件工程师怎么烧的代码了。



### 4、在mesh网络中四大节点是什么？

- 中继节点、代理节点、低功耗节点、朋友节点。但作为iOS开发我们不用管那么多，在意一下代理节点就行，因为我们手机发送的所有指令基本都是通过代理节点转发的。



### 5、在mesh网络中，创建网络是什么意思？

- 所谓创建一个mesh网络，说的简单点就是初始化一些网络配置信息，比如：网络的唯一标识(meshUUID)、消息传输密钥(AppKeys)等关键信息。
- 至于创建完成后保存在哪里就要根据实际情况了，默认保存在本地，我们在做的时候是将网络信息保存在了云端，这样方便用户和mesh网络进行绑定。



### 6、在mesh网络中，手机在蓝牙mesh中扮演的角色是什么？

- 手机在mesh网络中主要作用是配置器，其次手机也可以算是mesh中的一个特殊的节点，因为手机可以和网络内的任意一个节点通信。
- 特殊性就体现在手机只能连接到代理节点的时候才能和其他节点通信。



### 7、在mesh网络中，配网是什么意思？

- 配网是一系列操作的统称，这一系列操作达到的目的就是将一个支持蓝牙mesh的蓝牙设备添加到手机创建的mesh网络中。



### 8、iOS中，纯 BLE 从扫描到发送消息要经过哪些核心步骤？

- app 调用 scanForPeripheralsWithServices: 进行扫描，会相应返回扫描到的设备对象

- 扫描到目标设备后，调用 connectPeripheral: 对设备发起连接，连接成功会有相应的回调

-  连接设备成功后，调用 didDiscoverServices: 进行设备的服务特征查询，会有查询结果返回

- 查询到设备的服务特征后，可以调用 readValueForCharacteristic: 读取设备服务特征中的值

- 查询到设备的服务特征后，也可以调用 setNotifyValue: 订阅设备的服务特征

- 查询到设备的服务特征后，也可以调用 writeValue: 向有可写能力的服务特征，对设备进行写入数据



### 9、Zigbee 和 BLE 是什么关系？

- Zigbee 和 BLE 是两种不同的无线通信技术，它们并不是同一种技术。
- Zigbee 通常具有较低的功耗，但较高的速率，适用于需要传输**大量数据或较长距离的应用场景**。
- BLE 通常具有更低的功耗，但更低的速率，适用于需要长时间运行的**电池供电设备和短距离通信**。

